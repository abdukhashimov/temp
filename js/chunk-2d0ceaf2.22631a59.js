(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ceaf2"],{6101:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"university"},[e("div",{staticClass:"container country"},[t.loader?e("CRow",[e("CCol",{attrs:{md:"12"}},[e("CForm",[e("CCollapse",{attrs:{show:t.collapse}},[e("CRow",[e("CCol",{attrs:{md:"12"}},[e("CInput",{attrs:{label:"Hajmi","valid-feedback":"Yaxshi :)","invalid-feedback":"Kamida bitta so'z kiriting.","is-valid":t.validator,required:""},model:{value:t.form.amount,callback:function(a){t.$set(t.form,"amount",a)},expression:"form.amount"}})],1),e("CCol",{attrs:{md:"12"}},[e("CInput",{attrs:{label:"Davomiyligi","valid-feedback":"Yaxshi :)","invalid-feedback":"Kamida bitta so'z kiriting.","is-valid":t.validator,required:""},model:{value:t.form.duration,callback:function(a){t.$set(t.form,"duration",a)},expression:"form.duration"}})],1)],1)],1),e("CRow",{staticClass:"mt-4"},[e("CCol",{attrs:{md:"12"}},[t.buttonToggle?e("CButton",{staticClass:"float-right mb-3",attrs:{color:"success"},on:{click:function(a){return t.showTable()}}},[t._v("Qo'shish")]):e("CButton",{staticClass:"float-right mb-3",attrs:{color:"success",disabled:t.submitLoader},on:{click:function(a){return t.addNewspaper()}}},[t.submitLoader?e("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v(" Saqlash ")])],1)],1)],1)],1),e("CCol",{attrs:{md:"12"}},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered table-hover table-striped table-light"},[e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Hajmi")]),e("th",[t._v("Davomiyligi /oy")]),e("th",[t._v("Sana")]),e("th",[t._v("O'zgartirish")]),e("th",[t._v("O'chirish")])])]),e("tbody",t._l(t.listing,(function(a,n){return e("tr",{key:n},[e("td",[t._v(" "+t._s(a.id)+" ")]),e("td",[t._v(" "+t._s(a.amount)+" ")]),e("td",[t._v(" "+t._s(a.duration)+" ")]),e("td",[t._v(" "+t._s(a.changed_at.substr(0,10))+" ")]),e("td",[e("button",{staticClass:"btn btn-warning mx-auto d-block",on:{click:function(e){return t.updateListNewspaper(a.id)}}},[t._v(" O'zgartirish ")]),a.id==t.pk?e("CModal",{attrs:{title:"O'zgartirish",color:"warning",show:t.warningModal,closeOnBackdrop:!1},on:{"update:show":function(a){t.warningModal=a}}},[t.editLoader?e("CRow",[e("CCol",{attrs:{md:"12"}},[e("orbit-spinner",{staticClass:"d-block mx-auto",attrs:{"animation-duration":1e3,size:120,color:"#0E1E52"}})],1)],1):e("CRow",[e("CCol",{attrs:{md:"12"}},[e("CInput",{attrs:{label:"Hajmi","valid-feedback":"Yaxshi :)","invalid-feedback":"Kamida bitta so'z kiriting.","is-valid":t.validator,required:""},model:{value:t.update.amount,callback:function(a){t.$set(t.update,"amount",a)},expression:"update.amount"}})],1),e("CCol",{attrs:{md:"12"}},[e("CInput",{attrs:{label:"Davomiyligi","valid-feedback":"Yaxshi :)","invalid-feedback":"Kamida bitta so'z kiriting.","is-valid":t.validator,required:""},model:{value:t.update.duration,callback:function(a){t.$set(t.update,"duration",a)},expression:"update.duration"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("div",{attrs:{slot:"footer-wrapper"},slot:"footer-wrapper"},[e("CButton",{staticClass:"btn btn-warning float-right",on:{click:function(e){return t.saveUpdatedNewspaper(a.id)}}},[t._v(" Saqlash ")])],1)])],1):t._e()],1),e("td",[e("button",{staticClass:"btn btn-danger mx-auto d-block",on:{click:function(e){return t.deleteNewspaper(a.id)}}},[t._v(" O'chirish ")]),a.id==t.pk?e("CModal",{attrs:{title:"O'chirmoqchimisiz?",color:"danger",show:t.deleteHandler},on:{"update:show":function(a){t.deleteHandler=a}}},[e("h3",[t._v(t._s(a.duration)+" oy uchun "+t._s(a.amount)+" so'm")]),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("div",{attrs:{slot:"footer-wrapper"},slot:"footer-wrapper"},[e("CButton",{staticClass:"btn btn-danger mr-3",on:{click:function(e){return t.deleteFile(a.id)}}},[t._v(" Ok ")]),e("CButton",{staticClass:"btn btn-primary",on:{click:function(a){t.deleteHandler=!1}}},[t._v(" Bekor qilish ")])],1)])]):t._e()],1)])})),0)])])])],1):e("CRow",[e("CCol",{attrs:{md:"12"}},[e("div",{staticClass:"orb"},[e("orbit-spinner",{staticClass:"d-block mx-auto",attrs:{"animation-duration":1e3,size:120,color:"#0E1E52"}})],1)])],1)],1)])},r=[];function i(t,a,e,n,r,i,o){try{var s=t[i](o),u=s.value}catch(l){return void e(l)}s.done?a(u):Promise.resolve(u).then(n,r)}function o(t){return function(){var a=this,e=arguments;return new Promise((function(n,r){var o=t.apply(a,e);function s(t){i(o,n,r,s,u,"next",t)}function u(t){i(o,n,r,s,u,"throw",t)}s(void 0)}))}}var s={data:function(){return{form:{amount:null,duration:null},update:{amount:null,duration:null},buttonToggle:!0,collapse:!1,left:!1,next:!1,sum:1,listing:[],pk:0,warningModal:!1,editLoader:!0,search:"",loader:!1,loaderEdit:!0,submitLoader:!1,clicked:!1,deleteHandler:!1}},computed:{validation:function(){}},methods:{validator:function(t){return(t&&t.length)>0},deleteNewspaper:function(t){this.pk=t,this.deleteHandler=!0},deleteFile:function(t){var a=this;return o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.delete("payment/amount/".concat(t,"/")).then((function(){a.$toast.success("Muvaffaqiyatli o'chirildi."),a.listNewspaper()})).catch((function(){a.$toast.error("O'chirishdada xatolik yuz berdi.")}));case 2:case"end":return e.stop()}}),e)})))()},saveUpdatedNewspaper:function(t){var a=this;return o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.update.duration=+a.update.duration,2!=a.update.duration&&3!=a.update.duration&&4!=a.update.duration&&6!=a.update.duration&&12!=a.update.duration){e.next=6;break}return e.next=4,a.$http.patch("payment/amount/".concat(t,"/"),a.update).then((function(){a.$toast.success("Muvaffaqiyatli o'zgartirildi."),a.warningModal=!1,a.update={amount:null,duration:null},a.listNewspaper()})).catch((function(){a.$toast.error("O'zgartirishda xatolik yuz berdi.")}));case 4:e.next=7;break;case 6:a.$toast.error("Davoimiyligi 12 ga bo'lishuvchi son bo'lishi kerak.");case 7:case"end":return e.stop()}}),e)})))()},updateListNewspaper:function(t){var a=this;return o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.warningModal=!0,a.pk=t,e.next=4,a.$http.get("payment/amount/".concat(t,"/")).then((function(t){a.editLoader=!1,a.update=t.data})).catch((function(t){console.log(t)}));case 4:case"end":return e.stop()}}),e)})))()},showTable:function(){this.buttonToggle=!1,this.collapse=!0},addNewspaper:function(){var t=this;return o(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(0,t.form.duration=+t.form.duration,2!=t.form.duration&&3!=t.form.duration&&4!=t.form.duration&&6!=t.form.duration&&12!=t.form.duration){a.next=7;break}return a.next=5,t.$http.post("payment/amount/",t.form).then((function(){t.form={},t.collapse=!1,t.$toast.success("Muvaffaqiyatli qo'shildi."),t.buttonToggle=!0,t.listNewspaper()})).catch((function(){t.$toast.error("Xatolik yuz berdi.")}));case 5:a.next=8;break;case 7:t.$toast.error("Davoimiyligi 12 ga bo'lishuvchi son bo'lishi kerak.");case 8:case"end":return a.stop()}}),a)})))()},listNewspaper:function(){var t=this;return o(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loader=!1,a.next=3,t.$http.get("payment/amount/").then((function(a){t.loader=!0,t.listing=a.data})).catch((function(t){console.log(t)}));case 3:case"end":return a.stop()}}),a)})))()}},mounted:function(){this.listNewspaper()}},u=s,l=e("2877"),d=Object(l["a"])(u,n,r,!1,null,null,null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0ceaf2.22631a59.js.map